(window["webpackJsonpreact.js-movie-db"]=window["webpackJsonpreact.js-movie-db"]||[]).push([[0],{51:function(e,t,a){e.exports=a(82)},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),i=a(7),s=a(15),l=a(20),u=a(45),m=a(28),p=a(46),v="LOAD_MOVIES",d="LOAD_NEXT_PAGE",f="LOAD_GENRES",h="LOAD_MOVIE",g="LOAD_CREDITS",b="SET_QUERY",E="CLEAR_STATE",_={POPULAR:"POPULAR",SEARCH:"SEARCH"};function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(p.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var j={movies:[],page:1,total_pages:1,total_results:0,movie:{},credits:[],query:"",mode:_.POPULAR,loading:!0},N={genres:[]},w=Object(l.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v:return O({},e,{movies:Object(m.a)(n.results.results),mode:n.mode,page:n.page,total_pages:n.results.total_pages,loading:!1});case d:return O({},e,{page:n.page,movies:[].concat(Object(m.a)(e.movies),Object(m.a)(n.results))});case h:return O({},e,{movie:n});case b:return O({},e,{query:n.query});case g:return O({},e,{credits:n});case E:return{movies:[],page:1,query:""};default:return e}},genres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case f:return{genres:n};default:return e}}}),k=Object(l.d)(w,Object(l.a)(u.a));window.store=k;var C=k,A=a(4),P=a(5),x=a(8),M=a(6),D=a(9),q=a(17),S=a(11),L=a.n(S),R=a(18),Y=a(23),U=a.n(Y),G="https://api.themoviedb.org",I="a2ca5a59d48e38922419cfd2a20c00cc",T="".concat(G,"/3/movie/popular?api_key=").concat(I),V="".concat(G,"/3/genre/movie/list?api_key=").concat(I),H="https://image.tmdb.org/t/p",B="".concat(G,"/3/search/movie?api_key=").concat(I),Q="".concat(G,"/3/movie"),F=function(e,t,a){return a===_.POPULAR?"".concat(T,"&page=").concat(e):"".concat(B,"&query=").concat(t,"&page=").concat(e)},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.POPULAR;return function(){var n=Object(R.a)(L.a.mark(function n(r){var c;return L.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.a.get(F(e,t,a));case 2:c=n.sent,r({type:v,payload:{results:c.data,mode:a,query:t,page:e}});case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},X=function(){return function(){var e=Object(R.a)(L.a.mark(function e(t){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:E});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},z=a(84),K=a(85),W=a(26),Z=a.n(W),$=a(27),ee=a.n($),te=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(x.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(c)))).getCategories=function(e){var t=a.props.categories,n=[];return e.forEach(function(e){t.forEach(function(t){e===t.id&&n.push(t)})}),n.map(function(e,t){var a=e.id,n=e.name;return r.a.createElement("span",{key:a},t?", ".concat(n):n)})},a.transformDate=function(e){return ee()(e).format("MMMM D, YYYY")},a}return Object(D.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.id,n=t.title,c=t.poster_path,o=t.description,i=t.currentCategories,l=t.date;return r.a.createElement("div",{className:"movie"},r.a.createElement("div",{className:"movie-block-left"},r.a.createElement("img",{src:(e=c,e?"".concat(H,"/w200/").concat(e):"/static/images/placeholder_200x200.jpg"),alt:n})),r.a.createElement("div",{className:"movie-block-right"},r.a.createElement("h2",{className:"movie__title"},n),r.a.createElement("div",{className:"movie__date"},this.transformDate(l)),r.a.createElement("div",{className:"movie__category"},this.getCategories(i)),r.a.createElement("div",{className:"movie__description"},o),r.a.createElement(s.b,{className:"movie__readmore",to:"/movie/".concat(a)},"Read more")))}}]),t}(n.Component),ae=Object(i.b)(function(e){return{page:e.movies.page,query:e.movies.query,mode:e.movies.mode}},function(e){return{loadNextPage:function(t,a,n){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.POPULAR;return function(){var n=Object(R.a)(L.a.mark(function n(r){var c;return L.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.a.get(F(e,t,a));case 2:c=n.sent,r({type:d,payload:c.data});case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}})(function(e){var t=e.page,a=e.query,n=e.mode,c=e.loadNextPage;return r.a.createElement("button",{className:"load-more",type:"button",onClick:function(){c(t+1,a,n)}},"Load more")}),ne=function(){return r.a.createElement("div",{className:"preloader"},r.a.createElement("div",{className:"preloader__inner"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)))},re=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(x.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(c)))).renderItem=function(){var e=a.props,t=e.movies,n=e.genres;return t.map(function(e){var t=e.id,a=e.title,c=e.poster_path,o=e.overview,i=e.genre_ids,s=e.release_date;return r.a.createElement(z.a,{key:t,classNames:"fade",timeout:{enter:500,exit:300}},r.a.createElement(te,{id:t,title:a,poster_path:c,description:o,categories:n,currentCategories:i,date:s}))})},a.renderLoadMore=function(){var e=a.props,t=e.pages,n=e.page;if(t>1&&n!==t)return r.a.createElement(ae,null)},a}return Object(D.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this.props.movies;return Z.a.isEmpty(e)?r.a.createElement(ne,null):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"movie-list"},r.a.createElement(K.a,null,this.renderItem())),this.renderLoadMore())}}]),t}(n.Component),ce=Object(i.b)(function(e){return{movies:e.movies.movies,page:e.movies.page,pages:e.movies.total_pages,genres:e.genres.genres}})(re),oe=function(e){function t(){return Object(A.a)(this,t),Object(x.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadMovies,a=e.clearState,n=e.loadGenres;a(),n(),t()}},{key:"render",value:function(){return r.a.createElement(ce,null)}}]),t}(n.Component),ie=Object(i.b)(null,function(e){return{loadMovies:function(){e(J())},clearState:function(){e(X())},loadGenres:function(){e(function(){var e=Object(R.a)(L.a.mark(function e(t){var a;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.get(V);case 2:a=e.sent,t({type:f,payload:a.data.genres});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}})(oe),se=function(e){var t,a=e.cast,n=a.name,c=a.character,o=a.profile_path;return r.a.createElement("div",{className:"cast"},r.a.createElement("img",{className:"cast__img",src:(t=o,t?"".concat(H,"/w138_and_h175_face/").concat(t):"/static/images/placeholder_138x175.jpg"),alt:n}),r.a.createElement("div",{className:"cast__name"},n),r.a.createElement("div",{className:"cast__character"},c))},le=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(x.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(c)))).transformDate=function(e){return ee()(e).format("YYYY")},a.transformVote=function(e){return e?"".concat(10*e,"%"):"0%"},a.renderGenres=function(){var e=a.props.movie;if(e.genres)return e.genres.map(function(e,t){var a=e.name;return t?", ".concat(a):a})},a.renderCast=function(){var e=a.props.credits;if(e)return e.slice(0,8).map(function(e){return r.a.createElement(se,{key:e.id,cast:e})})},a}return Object(D.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e,t=this.props.movie,a={width:"".concat(this.transformVote(t.vote_average))};return r.a.createElement("div",{className:"movie-details"},r.a.createElement("div",{className:"movie-details-block-left"},r.a.createElement(s.b,{className:"movie-details__backto",to:"/"},"Back to home"),r.a.createElement("img",{className:"movie-details__poster",src:(e=t.backdrop_path,e?"".concat(H,"/w1400_and_h450_face/").concat(e):"/static/images/placeholder_1400x450.jpg"),alt:t.original_title})),r.a.createElement("div",{className:"movie-details-block-right"},r.a.createElement("h1",{className:"movie-details__title"},r.a.createElement("a",{href:t.homepage,rel:"noopener noreferrer",target:"_blank"},t.original_title,"(",this.transformDate(t.release_date),")")),r.a.createElement("div",{className:"movie-details-row"},r.a.createElement("div",{className:"movie-details-row__title"},"User score:"),r.a.createElement("div",{className:"movie-details-row__amount"},r.a.createElement("span",{className:"movie-details__rate movie-details-rate"},r.a.createElement("span",{className:"movie-details-rate__total-line"},r.a.createElement("span",{className:"movie-details-rate__line",style:a})),r.a.createElement("span",{className:"movie-details-rate__amount"},this.transformVote(t.vote_average))))),r.a.createElement("div",{className:"movie-details-row"},r.a.createElement("div",{className:"movie-details-row__title"},"Genres:"),r.a.createElement("div",{className:"movie-details-row__amount"},this.renderGenres())),r.a.createElement("div",{className:"movie-details-row"},r.a.createElement("div",{className:"movie-details-row__title"},"Language:"),r.a.createElement("div",{className:"movie-details-row__amount"},t.original_language)),r.a.createElement("div",{className:"movie-details-row"},r.a.createElement("div",{className:"movie-details-row__title"},"Duration:"),r.a.createElement("div",{className:"movie-details-row__amount"},"".concat(t.runtime," mins."))),r.a.createElement("div",{className:"movie-details-row"},r.a.createElement("div",{className:"movie-details-row__title"},"Overview:"),r.a.createElement("div",{className:"movie-details-row__amount"},t.overview))),r.a.createElement("div",{className:"movie-details__cast-block"},r.a.createElement("h2",{className:"movie-details__cast-block-title"},"Top Billed Cast"),r.a.createElement("div",{className:"movie-details__cast-list"},this.renderCast())))}}]),t}(n.Component),ue=Object(i.b)(function(e){return{movie:e.movies.movie,credits:e.movies.credits}})(le),me=function(e){function t(){return Object(A.a)(this,t),Object(x.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,a=e.loadMovie,n=e.loadCredits;a(t),n(t)}},{key:"render",value:function(){var e=this.props.movie;return Z.a.isEmpty(e)?r.a.createElement(ne,null):r.a.createElement(ue,null)}}]),t}(n.Component),pe=Object(i.b)(function(e){return{movie:e.movies.movie}},function(e){return{loadMovie:function(t){e(function(e){return function(){var t=Object(R.a)(L.a.mark(function t(a){var n;return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.a.get("".concat(Q,"/").concat(e,"?api_key=").concat(I));case 2:n=t.sent,a({type:h,payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},loadCredits:function(t){e(function(e){return function(){var t=Object(R.a)(L.a.mark(function t(a){var n;return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.a.get("".concat(Q,"/").concat(e,"/credits?api_key=").concat(I));case 2:n=t.sent,a({type:g,payload:n.data.cast});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(me),ve=function(e){function t(){return Object(A.a)(this,t),Object(x.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.page,a=e.query,n=e.loadMovies;(0,e.clearState)(),n(t,a,_.SEARCH)}},{key:"render",value:function(){var e=this.props.query;return r.a.createElement(ce,{query:e})}}]),t}(n.Component),de=Object(i.b)(function(e){return{page:e.movies.page,query:e.movies.query,mode:e.movies.mode}},function(e){return{loadMovies:function(t,a,n){e(J(t,a,n))},clearState:function(){e(X())}}})(ve),fe=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(x.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){(0,a.props.setQuery)(e.target.value)},a.handleSubmit=function(e){var t=a.props,n=t.history,r=t.page,c=t.query,o=t.loadMovies;e.preventDefault(),c&&(o(r,c,_.SEARCH),n.push("/search/".concat(c)))},a}return Object(D.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this.props.query;return r.a.createElement("form",{className:"search",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",value:e,className:"search__input",placeholder:"Search for a movie",onChange:this.handleChange}),r.a.createElement("button",{className:"search__button"},"Search"))}}]),t}(n.Component),he=Object(q.f)(Object(i.b)(function(e){return{query:e.movies.query,page:e.movies.page}},function(e){return{setQuery:function(t){return e(function(e){return function(){var t=Object(R.a)(L.a.mark(function t(a){return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:b,payload:{query:e}});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},loadMovies:function(t,a,n){e(J(t,a,n))}}})(fe)),ge=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header-block-left"},r.a.createElement("div",{className:"logo"},r.a.createElement(s.b,{to:"/"},r.a.createElement("span",{className:"logo__text"},"Movies")))),r.a.createElement("div",{className:"header-block-right"},r.a.createElement(he,null)))},be=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"footer__copyright"},"\xa9 just a movie site ",(new Date).getFullYear()))},Ee=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(x.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(c)))).getMovie=function(e){var t=e.match.params.id;return r.a.createElement(pe,{id:t})},a}return Object(D.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(ge,null),r.a.createElement("main",null,r.a.createElement(q.c,null,r.a.createElement(q.a,{exact:!0,path:"/",component:ie}),r.a.createElement(q.a,{path:"/movie/:id",render:this.getMovie}),r.a.createElement(q.a,{path:"/search/:query",component:de}))),r.a.createElement(be,null))}}]),t}(n.Component);a(81);o.a.render(r.a.createElement(i.a,{store:C},r.a.createElement(s.a,null,r.a.createElement(Ee,null))),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.f7153c59.chunk.js.map